{"ast":null,"code":"import axios from\"axios\";import{Link,useHistory}from\"react-router-dom\";export var register=function register(newUser){return axios.post(\"http://127.0.0.1:5000/auth/register\",{firstname:newUser.firstname,lastname:newUser.lastname,email:newUser.email,password:newUser.password,username:newUser.username,teamname:newUser.teamname,password_confirm:newUser.password_confirm}).then(function(response){console.log(\"Registered\");});};export var login=function login(user){return axios.post(\"http://127.0.0.1:5000/auth/login\",{email:user.email,password:user.password}).then(function(res){console.log(res.data);localStorage.setItem(\"Access_Token\",res.data.Access_Token);var accessTokenObj=localStorage.getItem(\"Access_Token\");console.log(accessTokenObj);console.log(res.data.Message);return res.data;});};export var LogOut=function LogOut(){var history=useHistory();var accessTokenObj=localStorage.getItem(\"Access_Token\");var url=\"http://127.0.0.1:5000/auth/logout\";var config={headers:{Authorization:\"Bearer \".concat(accessTokenObj)}};console.log(config);axios.delete(url,config).then(function(response){console.log(response);console.log(\"Status Changed\");history.push(\"/auth/login\");window.location.reload(false);}).catch(function(err){console.log(err.response);});};","map":{"version":3,"sources":["/Users/berke/Desktop/VA 325 Project/FIFA-FM-Scout/playerscout/src/UserFunction.js"],"names":["axios","Link","useHistory","register","newUser","post","firstname","lastname","email","password","username","teamname","password_confirm","then","response","console","log","login","user","res","data","localStorage","setItem","Access_Token","accessTokenObj","getItem","Message","LogOut","history","url","config","headers","Authorization","delete","push","window","location","reload","catch","err"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CAEA,MAAO,IAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,OAAD,CAAa,CACnC,MAAOJ,CAAAA,KAAK,CACTK,IADI,CACC,qCADD,CACwC,CAC3CC,SAAS,CAAEF,OAAO,CAACE,SADwB,CAE3CC,QAAQ,CAAEH,OAAO,CAACG,QAFyB,CAG3CC,KAAK,CAAEJ,OAAO,CAACI,KAH4B,CAI3CC,QAAQ,CAAEL,OAAO,CAACK,QAJyB,CAK3CC,QAAQ,CAAEN,OAAO,CAACM,QALyB,CAM3CC,QAAQ,CAAEP,OAAO,CAACO,QANyB,CAO3CC,gBAAgB,CAAER,OAAO,CAACQ,gBAPiB,CADxC,EAUJC,IAVI,CAUC,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAY,YAAZ,EACD,CAZI,CAAP,CAaD,CAdM,CAgBP,MAAO,IAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,IAAD,CAAU,CAC7B,MAAOlB,CAAAA,KAAK,CACTK,IADI,CACC,kCADD,CACqC,CACxCG,KAAK,CAAEU,IAAI,CAACV,KAD4B,CAExCC,QAAQ,CAAES,IAAI,CAACT,QAFyB,CADrC,EAKJI,IALI,CAKC,SAACM,GAAD,CAAS,CACbJ,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAhB,EACAC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAqCH,GAAG,CAACC,IAAJ,CAASG,YAA9C,EACA,GAAIC,CAAAA,cAAc,CAAGH,YAAY,CAACI,OAAb,CAAqB,cAArB,CAArB,CACAV,OAAO,CAACC,GAAR,CAAYQ,cAAZ,EACAT,OAAO,CAACC,GAAR,CAAYG,GAAG,CAACC,IAAJ,CAASM,OAArB,EACA,MAAOP,CAAAA,GAAG,CAACC,IAAX,CACD,CAZI,CAAP,CAaD,CAdM,CAgBP,MAAO,IAAMO,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CAC1B,GAAMC,CAAAA,OAAO,CAAG1B,UAAU,EAA1B,CACA,GAAIsB,CAAAA,cAAc,CAAGH,YAAY,CAACI,OAAb,CAAqB,cAArB,CAArB,CACA,GAAMI,CAAAA,GAAG,CAAG,mCAAZ,CACA,GAAMC,CAAAA,MAAM,CAAG,CACbC,OAAO,CAAE,CAAEC,aAAa,kBAAYR,cAAZ,CAAf,CADI,CAAf,CAGAT,OAAO,CAACC,GAAR,CAAYc,MAAZ,EAEA9B,KAAK,CACFiC,MADH,CACUJ,GADV,CACeC,MADf,EAEGjB,IAFH,CAEQ,SAACC,QAAD,CAAc,CAClBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACAC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAEAY,OAAO,CAACM,IAAR,CAAa,aAAb,EACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,CAAuB,KAAvB,EACD,CARH,EASGC,KATH,CASS,SAACC,GAAD,CAAS,CACdxB,OAAO,CAACC,GAAR,CAAYuB,GAAG,CAACzB,QAAhB,EACD,CAXH,EAYD,CArBM","sourcesContent":["import axios from \"axios\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nexport const register = (newUser) => {\n  return axios\n    .post(\"http://127.0.0.1:5000/auth/register\", {\n      firstname: newUser.firstname,\n      lastname: newUser.lastname,\n      email: newUser.email,\n      password: newUser.password,\n      username: newUser.username,\n      teamname: newUser.teamname,\n      password_confirm: newUser.password_confirm,\n    })\n    .then((response) => {\n      console.log(\"Registered\");\n    });\n};\n\nexport const login = (user) => {\n  return axios\n    .post(\"http://127.0.0.1:5000/auth/login\", {\n      email: user.email,\n      password: user.password,\n    })\n    .then((res) => {\n      console.log(res.data);\n      localStorage.setItem(\"Access_Token\", res.data.Access_Token);\n      var accessTokenObj = localStorage.getItem(\"Access_Token\");\n      console.log(accessTokenObj);\n      console.log(res.data.Message);\n      return res.data;\n    });\n};\n\nexport const LogOut = () => {\n  const history = useHistory();\n  var accessTokenObj = localStorage.getItem(\"Access_Token\");\n  const url = \"http://127.0.0.1:5000/auth/logout\";\n  const config = {\n    headers: { Authorization: `Bearer ${accessTokenObj}` },\n  };\n  console.log(config);\n\n  axios\n    .delete(url, config)\n    .then((response) => {\n      console.log(response);\n      console.log(\"Status Changed\");\n\n      history.push(\"/auth/login\");\n      window.location.reload(false);\n    })\n    .catch((err) => {\n      console.log(err.response);\n    });\n};\n"]},"metadata":{},"sourceType":"module"}